{"level":"error","message":"cleanup function failed getRedisClient.disconnect is not a function","stack":"TypeError: getRedisClient.disconnect is not a function\n    at file:///C:/Code/ExpenseTrackerApp/server/expenseTracker-auth-service/index.js:60:29\n    at process.shutdown (file:///C:/Code/ExpenseTrackerApp/server/expenseTracker-auth-service/utils/setupGracefulShutdown.js:8:23)\n    at process.emit (node:events:520:28)","timestamp":"2025-10-08T05:53:51.325Z"}
{"client":{"_connected":true,"_connecting":false,"_connectionCallback":null,"_connectionError":false,"_connectionTimeoutMillis":20000,"_ended":true,"_ending":true,"_events":{},"_eventsCount":1,"_poolUseCount":3,"_queryable":false,"_types":{"_types":{"arrayParser":{},"builtins":{"ABSTIME":702,"ACLITEM":1033,"BIT":1560,"BOOL":16,"BPCHAR":1042,"BYTEA":17,"CHAR":18,"CID":29,"CIDR":650,"CIRCLE":718,"DATE":1082,"FLOAT4":700,"FLOAT8":701,"GTSVECTOR":3642,"INET":869,"INT2":21,"INT4":23,"INT8":20,"INTERVAL":1186,"JSON":114,"JSONB":3802,"MACADDR":829,"MACADDR8":774,"MONEY":790,"NUMERIC":1700,"OID":26,"PATH":602,"PG_DEPENDENCIES":3402,"PG_LSN":3220,"PG_NDISTINCT":3361,"PG_NODE_TREE":194,"POLYGON":604,"REFCURSOR":1790,"REGCLASS":2205,"REGCONFIG":3734,"REGDICTIONARY":3769,"REGNAMESPACE":4089,"REGOPER":2203,"REGOPERATOR":2204,"REGPROC":24,"REGPROCEDURE":2202,"REGROLE":4096,"REGTYPE":2206,"RELTIME":703,"SMGR":210,"TEXT":25,"TID":27,"TIME":1083,"TIMESTAMP":1114,"TIMESTAMPTZ":1184,"TIMETZ":1266,"TINTERVAL":704,"TSQUERY":3615,"TSVECTOR":3614,"TXID_SNAPSHOT":2970,"UUID":2950,"VARBIT":1562,"VARCHAR":1043,"XID":28,"XML":142}},"binary":{},"text":{}},"activeQuery":null,"binary":false,"connection":{"_connecting":true,"_emitMessage":false,"_ending":true,"_events":{},"_eventsCount":23,"_keepAlive":false,"_keepAliveInitialDelayMillis":0,"lastBuffer":false,"parsedStatements":{},"ssl":{},"stream":{"_SNICallback":null,"_closeAfterHandlingError":false,"_controlReleased":true,"_events":{"end":[null,null],"newListener":[null,null]},"_eventsCount":6,"_hadError":false,"_host":null,"_newSessionPending":false,"_parent":{"_closeAfterHandlingError":false,"_events":{"close":[null,null,null],"error":[null,null]},"_eventsCount":4,"_hadError":false,"_host":"ep-broad-king-a48rk492-pooler.us-east-1.aws.neon.tech","_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["34.194.100.28:5432"],"connecting":false,"server":null},"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":16384,"length":0,"pipes":[]},"_rejectUnauthorized":true,"_requestCert":true,"_secureEstablished":true,"_securePending":false,"_server":null,"_sockname":null,"_tlsOptions":{"isServer":false,"pipe":false,"rejectUnauthorized":true,"requestCert":true,"secureContext":{"context":{}}},"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":16384,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"alpnProtocol":false,"authorizationError":null,"authorized":true,"connecting":false,"encrypted":true,"secureConnecting":false,"servername":"ep-broad-king-a48rk492-pooler.us-east-1.aws.neon.tech","ssl":null}},"connectionParameters":{"binary":false,"client_encoding":"","connect_timeout":20,"database":"ecomDB","host":"ep-broad-king-a48rk492-pooler.us-east-1.aws.neon.tech","idle_in_transaction_session_timeout":false,"isDomainSocket":false,"lock_timeout":false,"port":5432,"query_timeout":false,"ssl":{},"statement_timeout":false,"user":"neondb_owner"},"connectionTimeoutHandle":{"_destroyed":true,"_idleNext":null,"_idlePrev":null,"_idleStart":295877,"_idleTimeout":-1,"_onTimeout":null,"_repeat":null},"database":"ecomDB","enableChannelBinding":false,"hasExecuted":true,"host":"ep-broad-king-a48rk492-pooler.us-east-1.aws.neon.tech","port":5432,"processID":875330464,"queryQueue":[],"readyForQuery":true,"saslSession":null,"secretKey":1620002045,"ssl":{},"user":"neondb_owner"},"level":"error","message":"Unexpected error on idle db client Connection terminated unexpectedly","stack":"Error: Connection terminated unexpectedly\n    at Connection.<anonymous> (C:\\Code\\ExpenseTrackerApp\\server\\expenseTracker-auth-service\\node_modules\\pg\\lib\\client.js:136:73)\n    at Object.onceWrapper (node:events:634:28)\n    at Connection.emit (node:events:520:28)\n    at Socket.<anonymous> (C:\\Code\\ExpenseTrackerApp\\server\\expenseTracker-auth-service\\node_modules\\pg\\lib\\connection.js:62:12)\n    at Socket.emit (node:events:532:35)\n    at TCP.<anonymous> (node:net:337:12)","timestamp":"2025-10-08T15:36:59.262Z"}
